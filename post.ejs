<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Post</title>
        <style>*{
    font-family: 'Comic Sans MS', 'Comic Sans', cursive;
}
.box {
    position: absolute;
    border: 5px solid black;
    margin: 0px;
    border-radius: 10px;
    background-color: gray;
}
#topbox {
    top: 0;
    left: 0;
    right: 0;
    height: 100px;
    width: 100%-24px;
    font-size:70px;
}
button {
    border: 3px solid black;
    margin: 10px;
    border-radius: 5px;
    background-color: lightgray;
    cursor: pointer;
}
button:hover {
    background-color: rgb(234, 234, 234);
}
#topbox button {
    position: absolute;
    margin: 10px;
    top: 0px;
    height: 80px;
    width: 200px;
    font-size: 30px;
}
#post {
    position: fixed;
    right: 45%;
    left: 45%;
    bottom: 10px;
    font-size: 50px;
}
#chatj {
    right: 220px;
}
#si {
    right: 10px;
}

#leftbox {
    top: 120px;
    bottom: 10px;
    left: 0;
    right: 50%;
    overflow-y: scroll;
}
#rightbox {
    top: 120px;
    bottom: 10px;
    right: 0;
    left: 50%;
    overflow-y: scroll;
}
#middlebox {
    top: 120px;
    bottom: 10px;
    left: 10px;
    right: 10px;
    overflow-y: scroll;
}
.post {
    border: 5px solid black;
    border-radius: 10px;
    background-color: lightgray;
    margin: 10px;
    padding: 10px;
    font-size: 20px;
}
form input {
    border: 3px solid black;
    border-radius: 5px;
    background-color: lightgray;
    font-size: 20px;
}
form button {
    border: 3px solid black;
    border-radius: 5px;
    background-color: lightgray;
    font-size: 20px;
    margin: 0;
    cursor: pointer;
}
.red {
    color: red;
}
.hidden {
    display: none;
}
#bigpost {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 5px solid black;
    border-radius: 10px;
    background-color: lightgray;
    margin: 10px;
    padding: 10px;
    font-size: 20px;
}
.tmessage {
    border: 5px solid black;
    border-radius: 10px;
    background-color: rgb(38, 0, 255);
    margin: 10px;
    padding: 10px;
    font-size: 16px;
    right:0;
}
.omessage {
    border: 5px solid black;
    border-radius: 10px;
    background-color: rgb(187, 187, 187);
    margin: 10px;
    padding: 10px;
    font-size: 16px;
    left:0;
}
.contact {
    border: 5px solid black;
    border-radius: 20px;
    background-color: lightgray;
    margin: 2.5px;
    font-size: 20px;
    width: 30px;
    height: 30px;
    text-align: center;
    
    cursor: pointer;
}
#contacts {
    margin: 0;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 50px;
    overflow-y: scroll;
}
#messages {
    margin: 0;
    position: absolute;
    top: 0;
    left: 50px;
    right: 0;
    bottom: 0px;
    overflow-y: scroll;
}</style>
        <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/EhogGawlic/w-chat/refs/heads/main/public/favicon.png">
    </head>
    <body>
        <div class = "box" id="topbox">Post</div>
        <div class = "box" id="middlebox"> 
                <a href="/terms">Terms and conditions</a><br>
                <form action="/posted" method="POST">
                -Title-<br>
                <input type="text" name="title" placeholder="Title" required id = "title"><br>
                <br>
                
                -Content-<br>
                <textarea rows="5" cols="50" type="text" name="content" placeholder="blahblahblah" required></textarea><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<img src=\'Image URL\'>'">Image</button><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<a href=\'\'>link text</a>'">Link</button><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<b>Bold text</b>'">Bold</button><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<em>Italic text</em>'">Italic</button><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<u>Underlined text</u>'">Underline</button><br>
                <button type="button" onclick="document.getElementsByName('content')[0].value += '<s>Strikethrough text</s>'">Strikethrough</button><br><br>
                <button type="submit" style="height: 80px;">Post</button>
            </form>

        <div id="preview">Preview and messages (if your post contains disallowed things) will show here</div>
        </div>
        <script>
            const input = document.querySelector("textarea")
            const preview = document.getElementById("preview")
            const title = document.getElementById("title")    
            const submit = document.querySelector("form button[type='submit']")
            input.onchange = ()=>{
                const content = input.value
                preview.innerHTML = `<div class="post">
                    <h2>${title.value}</h2>
                    <p>by [Your display name]<br>
                    <p>${content}</p>
                </div>`
//semicolons suck
                    submit.disabled = false
                if (content.includes("<script>")) {
                    preview.innerHTML = "<p class='red'>Your post contains disallowed content (script tags)</p>"
                    submit.disabled = true
                }
                if (content.toLowerCase().includes("mod")) {
                    preview.innerHTML = "<p class='red'>Hah oliver</p>"
                    submit.disabled = true
                }
            }
        </script>
    </body>

</html>


